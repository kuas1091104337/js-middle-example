<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>操作資料才是王道 1</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/normalize.css">
    <link rel="stylesheet" href="./css/02-8.css">
</head>
<body>
    <div id="app">
        <a class="menuBtn" href="javascript:;"><i class="fas fa-bars fa-3x"></i></a>
        <div class="content">
            <img src="./images/logo2.png" alt="">
        </div>
        <div class="menu">
            <!-- <a class="closeBtn"><i class="fas fa-times fa-3x"></i></a> -->
            <ul class="nav">
                <li><a href="javascript:;">abous</a></li>
                <li><a href="javascript:;">content</a></li>
                <li><a href="javascript:;">user</a></li>
                <li><a href="javascript:;">address</a></li>
            </ul>
        </div>
    </div>
    <script>
        // STYLE-3
        // var data = {menuIsOpen:true},
        var data = {menuIsOpen:''},
            $menuBtn = document.getElementsByClassName('menuBtn')[0];
        function bindVal(obj,key,callback){
          var val = obj[key];
          Object.defineProperty(obj,key,{
            get:function(){
              return val;
            },
            set:function(value){
              val = value;
              callback(val);
            }
          });
        }
        bindVal(data,'menuIsOpen',function(data){
            console.log('data:'+data);
            if(data){
                $menuBtn.classList.add('open');
                $menuBtn.children[0].classList.remove('fa-bars');
                $menuBtn.children[0].classList.add('fa-times');
            }else{
                $menuBtn.classList.remove('open');
                $menuBtn.children[0].classList.remove('fa-times');
                $menuBtn.children[0].classList.add('fa-bars');
            }
        });
        // data.menuIsOpen = false;
        console.log('data.menuIsOpen-1:'+data.menuIsOpen);
        $menuBtn.addEventListener('click',function(){
            data.menuIsOpen = !data.menuIsOpen;
            console.log('data.menuIsOpen-2:'+data.menuIsOpen);
        })
        data.menuIsOpen = false;

        // STYLE-2
        // var data = {menuIsOpen:false},
        // var data = {menuIsOpen:''},
        //     $menuBtn = document.getElementsByClassName('menuBtn')[0];
        // Object.defineProperty(data,'menuIsOpen',{
        //     get:function(){ return menuIsOpen; },
        //     set:function(val){
        //         menuIsOpen = val;
        //         handleClass(menuIsOpen);
        //     }
        // });
        // data.menuIsOpen = false;
        // console.log(data.menuIsOpen);
        // function handleClass(val){
        //     console.log(val);
        //     if(val){
        //         $menuBtn.classList.add('open');
        //         $menuBtn.children[0].classList.remove('fa-bars');
        //         $menuBtn.children[0].classList.add('fa-times');
        //     }else{
        //         $menuBtn.classList.remove('open');
        //         $menuBtn.children[0].classList.remove('fa-times');
        //         $menuBtn.children[0].classList.add('fa-bars');
        //     }
        // }
        // $menuBtn.addEventListener('click',function(){
        //     if(!data.menuIsOpen){
        //         data.menuIsOpen = true;
        //     }else{
        //         data.menuIsOpen = false;
        //     }
        //     console.log(data.menuIsOpen);
        //     // this.classList.toggle('open');
        //     // if(this.classList.contains('open')){
        //     //     this.children[0].classList.remove('fa-bars');
        //     //     this.children[0].classList.add('fa-times');
        //     // }else{
        //     //     this.children[0].classList.remove('fa-times');
        //     //     this.children[0].classList.add('fa-bars');
        //     // }
        // })
    </script>
</body>
</html>